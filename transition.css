
/* Premium dark page transition */
:root{
  --tr-accent:#5b6cff;   /* indigo */
  --tr-cyan:#00d4ff;
  --tr-bg: #0b0f16;
}

.transition-overlay{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
  clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
  background:
    radial-gradient(1200px 600px at 10% 0%, rgba(91,108,255,.30), transparent 60%),
    linear-gradient(135deg, rgba(0,212,255,.18), rgba(91,108,255,.18));
  backdrop-filter: blur(2px) saturate(120%);
  transition: opacity .2s ease-out;
}

/* scanning light */
.transition-overlay::after{
  content: "";
  position:absolute;
  inset:-20%;
  background:
    radial-gradient(900px 320px at 30% 30%, rgba(0,255,200,.18), transparent 60%),
    linear-gradient(90deg, rgba(255,255,255,.12), transparent 70%);
  mix-blend-mode: screen;
  opacity:.7;
}

.transition-overlay.is-active{
  opacity: 1;
  animation: tr-wipe-out .42s cubic-bezier(.3,.7,.2,1) forwards;
}

.transition-overlay.is-return{
  /* wipe back to reveal new page */
  opacity: 1;
  animation: tr-wipe-in .60s cubic-bezier(.2,.7,.1,1) forwards;
}

@keyframes tr-wipe-out{
  0%   { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%); }
  60%  { clip-path: polygon(0 0, 75% -10%, 100% 110%, 0 100%); }
  100% { clip-path: polygon(0 -10%, 120% -20%, 120% 120%, 0 110%); }
}
@keyframes tr-wipe-in{
  0%   { clip-path: polygon(0 -10%, 120% -20%, 120% 120%, 0 110%); }
  45%  { clip-path: polygon(-20% 10%, 20% -10%, 50% 110%, -10% 90%); }
  100% { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .transition-overlay,
  .transition-overlay::after{ animation: none !important; transition: none !important; }
  .transition-overlay{ opacity:0 !important; }
}
